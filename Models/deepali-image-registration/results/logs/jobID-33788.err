
CondaError: Run 'conda init' before 'conda deactivate'


CondaError: Run 'conda init' before 'conda activate'

2025-07-31 16:16:35.931515: E external/local_xla/xla/stream_executor/cuda/cuda_fft.cc:467] Unable to register cuFFT factory: Attempting to register factory for plugin cuFFT when one has already been registered
WARNING: All log messages before absl::InitializeLog() is called are written to STDERR
E0000 00:00:1753971396.368930  530514 cuda_dnn.cc:8579] Unable to register cuDNN factory: Attempting to register factory for plugin cuDNN when one has already been registered
E0000 00:00:1753971396.494999  530514 cuda_blas.cc:1407] Unable to register cuBLAS factory: Attempting to register factory for plugin cuBLAS when one has already been registered
W0000 00:00:1753971397.559567  530514 computation_placer.cc:177] computation placer already registered. Please check linkage and avoid linking the same target more than once.
W0000 00:00:1753971397.559608  530514 computation_placer.cc:177] computation placer already registered. Please check linkage and avoid linking the same target more than once.
W0000 00:00:1753971397.559613  530514 computation_placer.cc:177] computation placer already registered. Please check linkage and avoid linking the same target more than once.
W0000 00:00:1753971397.559618  530514 computation_placer.cc:177] computation placer already registered. Please check linkage and avoid linking the same target more than once.
2025-07-31 16:16:37.661263: I tensorflow/core/platform/cpu_feature_guard.cc:210] This TensorFlow binary is optimized to use available CPU instructions in performance-critical operations.
To enable the following instructions: AVX2 FMA, in other operations, rebuild TensorFlow with the appropriate compiler flags.
Training:   0%|          | 0/10 [00:00<?, ?epoch/s]Training:  10%|█         | 1/10 [00:06<00:58,  6.51s/epoch]Training:  20%|██        | 2/10 [00:10<00:38,  4.83s/epoch]Training:  30%|███       | 3/10 [00:13<00:30,  4.30s/epoch]Training:  40%|████      | 4/10 [00:17<00:24,  4.02s/epoch]Training:  50%|█████     | 5/10 [00:21<00:19,  3.89s/epoch]Training:  60%|██████    | 6/10 [00:24<00:15,  3.81s/epoch]Training:  70%|███████   | 7/10 [00:28<00:11,  3.75s/epoch]Training:  80%|████████  | 8/10 [00:30<00:06,  3.20s/epoch]Training:  90%|█████████ | 9/10 [00:33<00:03,  3.33s/epoch]Training: 100%|██████████| 10/10 [00:35<00:00,  2.91s/epoch]Training: 100%|██████████| 10/10 [00:35<00:00,  3.60s/epoch]
Testing:   0%|          | 0/3 [00:00<?, ?batch/s]Testing:  33%|███▎      | 1/3 [00:01<00:02,  1.32s/batch]Testing:  67%|██████▋   | 2/3 [00:01<00:00,  1.15batch/s]Testing: 100%|██████████| 3/3 [00:01<00:00,  1.91batch/s]Testing: 100%|██████████| 3/3 [00:02<00:00,  1.43batch/s]
Traceback (most recent call last):
  File "/vol/miltank/users/hothum/Documents/atlas-based-registration/Models/deepali-image-registration/src/train_mri.py", line 465, in <module>
    test(model, test_loader, args.loss, args.loss_weight, metrics, device, output_dir=args.output_dir, seg=auxiliary_data)
  File "/vol/miltank/users/hothum/Documents/atlas-based-registration/Models/deepali-image-registration/src/train_mri.py", line 296, in test
    atlas_segs = np.concatenate(atlas_segs, axis=0)
UnboundLocalError: local variable 'atlas_segs' referenced before assignment
